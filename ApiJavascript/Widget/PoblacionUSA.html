<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no"/>
    <title>Poblacion USA</title>
    <link rel="stylesheet" href="https://js.arcgis.com/3.19/esri/themes/calcite/dijit/calcite.css">
    <link rel="stylesheet" href="https://js.arcgis.com/3.19/esri/themes/calcite/esri/esri.css">
    <link rel="stylesheet" href="https://js.arcgis.com/3.19/esri/css/esri.css">

    <style>
      html, body, .container, #map {
        height:100%;
        width:100%;
        margin:0;
        padding:0;
        margin:0;
        font-family: "Open Sans";

      }
      #map {
        padding:0;
      }
      #search {
         display: block;
         position: absolute;
         z-index: 2;
         top: 140px;
         left: 15px;
      }
      #layerList{
        display: block;
        position: absolute;
        z-index: 2;
        top: 5px;
        right: 5px;


      }
      #layerListPane{
        width:25%;
      }
      #HomeButton {
        position: absolute;
        top: 95px;
        left: 15px;
        z-index: 50;
      }
      #BasemapToggle {
      position: absolute;
      top: 12px;
      left:  60px;
      z-index: 50;
      }
      .esriLayer{
      background-color: #fff;
      }
      .esriLayerList .esriList{
          border-top:none;
      }
      .esriLayerList .esriTitle {
        background-color: #fff;
        border-bottom:none;
      }
      .esriLayerList .esriList ul{
        background-color: #fff;
      }


    </style>
    <script src="https://js.arcgis.com/3.19/"></script>
    <script>
      var map;

      require(["esri/map",
        "esri/dijit/Search",
        "esri/layers/ArcGISDynamicMapServiceLayer",
        "esri/layers/FeatureLayer",
        "esri/InfoTemplate",
        "esri/dijit/LayerList",
        "esri/dijit/BasemapToggle",
        "esri/dijit/OverviewMap",
        "dojo/parser",
        "esri/layers/ArcGISTiledMapServiceLayer",
        "esri/dijit/HomeButton",
        "esri/dijit/Scalebar",
        "dijit/layout/BorderContainer",
         "dijit/layout/ContentPane",
         "dojo/domReady!"
      ], function (Map,
         Search,
         ArcGISDynamicMapServiceLayer,
         FeatureLayer,
         InfoTemplate,
         LayerList,
         BasemapToggle,
         OverviewMap,
         parser,
         ArcGISTiledMapServiceLayer,
         HomeButton,
         Scalebar) {

         parser.parse();



        map = new Map("map", {
          basemap: "gray",  //For full list of pre-defined basemaps, navigate to http://arcg.is/1JVo6Wd
          center: [-97.45, 37.50], // longitude, latitude
          zoom: 5
        });
        var layer = new ArcGISDynamicMapServiceLayer("http://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer",{
        });
        map.addLayer(layer);

        var layerList = new LayerList({
        map: map,
        showLegend: true,
        showSubLayers: true,
        showOpacitySlider: true,
        layers: [
          {   layer:layer,
              showSubLayers: true, // optional, show sublayers for this layer. Defaults to the widget's 'showSubLayers' property.
              showLegend: true, // optional, display a legend for the layer items.
              showOpacitySlider: true, // optional, display the opacity slider for layer items.
              }

                ]},"layerList");
        layerList.startup();

        var search = new Search({
            map: map,
            enableButtonMode: true,
            enableInfoWindow: true,
         }, "search");

         var sources = search.get ("sources");

         var infotempCities = new InfoTemplate("Attributes", "City Name: ${areaname}<br>Population: ${pop2000}");
         var infotempStates = new InfoTemplate("Attributes", "State Name: ${state_name}<br>Population: ${pop2000}");

         sources.push(

                    {
                    featureLayer: new FeatureLayer("http://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer/0"),
                    searchFields: ["areaname"],
                    displayField:"areaname",
                    exactMatch: false,
                    name: "Cities",
                    outFields: ["*"],
                    placeholder: "New York",
                    maxResults: 5,
                    maxSuggestions: 5,
                    infoTemplate:infotempCities,
                    enableSuggestions: true,
                    },

                    {
                    featureLayer: new FeatureLayer("http://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer/2"),
                    searchFields: ["state_name"],
                    displayField:"state_name",
                    exactMatch: false,
                    name: "States",
                    outFields: ["*"],
                    placeholder: "Idaho",
                    maxResults: 5,
                    maxSuggestions: 5,
                    infoTemplate:infotempStates,
                    enableSuggestions: true,
          });

         search.set("sources",sources);

         search.startup();

         var home = new HomeButton({
         map: map
         }, "HomeButton");
         home.startup();

         var toggle = new BasemapToggle({
         map: map,
         basemap: "satellite"
         }, "BasemapToggle");
         toggle.startup();




                    });




    </script>
  </head>

  <body class="calcite">
    <div id="search"></div>
    <div id="HomeButton"></div>
    <div id="BasemapToggle"></div>
   <div id="map">

   </div>
   <div id="layerListPane">
      <div id="layerList"></div>
   </div>
  </body>
</html>
